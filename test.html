<div>
  <label for="league">选择联赛：</label>
  <select id="league">
    <option value="PL">英超 (Premier League)</option>
    <option value="PD">西甲 (LaLiga)</option>
    <option value="BL1">德甲 (Bundesliga)</option>
  </select>
</div>

<div id="matches" style="margin-top:10px; font-family:Arial, sans-serif;"></div>

<script>
const apiKey = "c55bdf268950426faf49aff8c9aca36f"; // 替换为你的 football-data.org API Key

async function loadMatches(competition) {
  const container = document.getElementById("matches");
  container.innerHTML = "加载中…";

  try {
    const url = `https://api.football-data.org/v4/matches?competitions=${competition}&status=FINISHED&limit=5`;
    const res = await fetch(url, { headers: { "X-Auth-Token": apiKey } });
    const data = await res.json();

    if (!data.matches || data.matches.length === 0) {
      container.innerHTML = "暂无比赛结果";
      return;
    }

    const html = data.matches.map(m => `
      <div style="margin-bottom:6px; padding:4px; border-bottom:1px solid #ccc;">
        <strong>${m.competition.name}</strong><br>
        ${m.homeTeam.name} ${m.score.fullTime.home} - ${m.score.fullTime.away} ${m.awayTeam.name}<br>
        <span style="font-size:12px; color:#555;">${new Date(m.utcDate).toLocaleString()}</span>
      </div>
    `).join("");

    container.innerHTML = html;
  } catch(e) {
    container.innerHTML = "获取比赛数据失败";
    console.error(e);
  }
}

// 页面加载默认英超
loadMatches("PL");

// 联赛选择变化时刷新
document.getElementById("league").addEventListener("change", (e) => {
  loadMatches(e.target.value);
});
</script>
