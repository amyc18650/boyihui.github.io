<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>英超比赛与积分榜</title>
<style>
  body { background:#121212; color:#fff; font-family:Arial, sans-serif; }
  h2 { text-align:center; margin-top:20px; }
  #matches div, #standings div { padding:6px; border-bottom:1px solid #333; }
</style>
</head>
<body>

<h2>最近 5 场英超比赛结果</h2>
<div id="matches">加载中…</div>

<h2>英超积分榜</h2>
<div id="standings">加载中…</div>

<script>
async function loadMatches() {
  const res = await fetch('proxy.php?type=matches');
  const data = await res.json();
  const container = document.getElementById('matches');
  if (!data.matches) { container.innerHTML = "暂无数据"; return; }
  container.innerHTML = data.matches.map(m => `
    <div>
      ${m.homeTeam.name} <b>${m.score.fullTime.home} - ${m.score.fullTime.away}</b> ${m.awayTeam.name}
    </div>
  `).join('');
}

async function loadStandings() {
  const res = await fetch('proxy.php?type=standings');
  const data = await res.json();
  const container = document.getElementById('standings');
  if (!data.standings) { container.innerHTML = "暂无数据"; return; }
  container.innerHTML = data.standings[0].table.map(t => `
    <div>${t.position}. ${t.team.name} - ${t.points} 分</div>
  `).join('');
}

loadMatches();
loadStandings();
setInterval(() => { loadMatches(); loadStandings(); }, 5*60*1000);
</script>

</body>
</html>
